--===============================================--
--												 --
--												 --
--                 By VoltenX                    --
--												 --
--												 --
--===============================================--

-- // Services

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RS = game:GetService("ReplicatedStorage")

--===============================================--

-- // Vars

local player = Players.LocalPlayer
local character = player.Character
local hpart = character.HumanoidRootPart

    --//Parts:
    getgenv().LowerElevator = Instance.new("Part", game.Workspace)
    LowerElevator.Position = Vector3.new(207.399, 215.501, 1447.298)
    LowerElevator.Size = Vector3.new(17, 18.2, 18)
    LowerElevator.CanCollide = false
    LowerElevator.Anchored = true
    LowerElevator.Transparency = 1

    getgenv().UpperElevator = Instance.new("Part", game.Workspace)
    UpperElevator.Position = Vector3.new(343.350, 14.098, 146.197)
    UpperElevator.Size = Vector3.new(16, 18.2, 15)
    UpperElevator.CanCollide = false
    UpperElevator.Anchored = true
    UpperElevator.Transparency = 1

    getgenv().OutsideElev = Instance.new("Part", game.Workspace)
    OutsideElev.Position = Vector3.new(345, 11.6, 160.5)
    OutsideElev.Size = Vector3.new(22, 13.2, 9)
    OutsideElev.CanCollide = false
    OutsideElev.Anchored = true
    OutsideElev.Transparency = 1


    --//Declarations
    local toggles = {
        modDetector = false,
        instantRespawn = false,
        rName = false,
        farmEscape = false
    }
    local noClip = nil

--===============================================--
-- //Functions

local function destroyteslagates()
	for i,v in pairs(Workspace:GetChildren()) do
		if v.Name == "TeslaGate" or v.Name == "XL-TeslaGate" then
			v:Destroy()
			print("Deleted "..v.Name)
		end
	end
end

local function getmodule(name)
	for i,v in pairs(getnilinstances()) do
		if v.Name == name and v.ClassName == "ModuleScript" then
			return v
		end
	end
end

local function getconstants(scriptname, functionname)
	for i,v in pairs(getgc()) do
		if typeof(v) == "function" and getfenv(v).script.Name == scriptname and debug.getinfo(v).name == functionname then
			return debug.getconstants(v)
		end
	end
end

local function getupvalues(scriptname, functionname)
	for i,v in pairs(getgc()) do
		if typeof(v) == "function" and getfenv(v).script.Name == scriptname and debug.getinfo(v).name == functionname then
			return debug.getupvalues(v)
		end
	end
end

local function NoclipLoop()
	if game.Players.LocalPlayer.Character ~= nil then
		for _, child in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
			if child:IsA("BasePart") and child.CanCollide == true then
				child.CanCollide = false
			end
		end
	end
end

local _speed = 250
function tp(...)
	local plr=game.Players.LocalPlayer
	local args={...}
	if typeof(args[1])=="number"and args[2]and args[3]then
		args=Vector3.new(args[1],args[2],args[3])
	elseif typeof(args[1])=="Vector3" then
		args=args[1]    
	elseif typeof(args[1])=="CFrame" then
		args=args[1].Position
	end
	local dist=(plr.Character.HumanoidRootPart.Position-args).Magnitude
	local speed = dist/_speed
	local datween = game:GetService("TweenService"):Create(
		plr.Character.HumanoidRootPart,
		TweenInfo.new(speed,Enum.EasingStyle.Linear),
		{CFrame=CFrame.new(args)}
	):Play()
	wait(speed)
end

function get_in_part(HumanoidRootPart,TouchPart)
	local c = HumanoidRootPart.Touched:Connect(function() end)
	local parts = HumanoidRootPart:GetTouchingParts()
	c:Disconnect()
	
	for i, k in ipairs(parts) do
		if k == TouchPart then
			return true
		end
	end
	
	return false
end

local function becomeCI()
	tp(Vector3.new(348, 8, 159))
	wait(1)
	if game:GetService("Workspace").Elevators.GateAToSurface1.StatusButtons.Part.BrickColor.Name == "Crimson" then
		repeat wait(.5) until game:GetService("Workspace").Elevators.GateAToSurface1.StatusButtons.Part.BrickColor.Name == "Parsley green"
	end
	local args = {[1] = workspace.Elevators.GateAToSurface1.Call}
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	wait(5)
	if get_in_part(game.Players.LocalPlayer.Character.HumanoidRootPart, OutsideElev) and game.Players.LocalPlayer.Character.Humanoid.Health > 0 then
		tp(Vector3.new(343, 8, 142))
	else
		game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Error", Text = 'Something went wrong, respawning.'})
		return game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
	end
	wait(3)
	if get_in_part(game.Players.LocalPlayer.Character.HumanoidRootPart, UpperElevator) and game.Players.LocalPlayer.Character.Humanoid.Health > 0 then
		local args = {[1] = workspace.Elevators.GateAToSurface1.UseElevator}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	else
		game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Error", Text = 'Something went wrong, respawning.'})
		return game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
	end
	wait(5)
	if get_in_part(game.Players.LocalPlayer.Character.HumanoidRootPart, LowerElevator) and game.Players.LocalPlayer.Character.Humanoid.Health > 0 then
		tp(Vector3.new(491, 209, 1416))
	else
		game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Error", Text = 'Something went wrong, respawning.'})
		return game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
	end
	wait(1)
	local timesAttempted = 0
	repeat
		game:GetService("Players").LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
		wait(1)
		timesAttempted = timesAttempted + 1
	until game:GetService("Players").LocalPlayer.Team.Name == "Chaos Insurgency" or timesAttempted >= 30
	if timesAttempted == 30 then
		return becomeCI()
	end
end

local OldNameCall
    OldNameCall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
    local method = getnamecallmethod()
    local args = {...}
    if not checkcaller() and self.name == "FallDamage" and method == "FireServer" then
        return nil
    end
    return OldNameCall(self, ...)
end))


local ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/Anomaly-hub/Anomalies-Scripts/main/kiriots%20esp", true))()
local function refreshSCPs()
	for _,v in pairs(game:GetService("Workspace").SCPs:GetDescendants()) do   
		if v.Name == "AnomName" and v.ClassName == "StringValue" then
			ESP:Add(v.Parent, {Name = tostring(v.Value), IsEnabled = "SCPs"})
		end
	end
	if game:GetService("Workspace").SCPs["303"] then
		ESP:Add(game:GetService("Workspace").SCPs["303"], {Name = "The Door Man", IsEnabled = "SCPs"})
	end
	if game:GetService("Workspace").SCPs:FindFirstChild("096") then
		ESP:Add(game:GetService("Workspace").SCPs["096"], {Name = "The Shy Guy", IsEnabled = "SCPs"})
	end
	if game:GetService("Workspace").SCPs["131"]["131-A"] then
		ESP:Add(game:GetService("Workspace").SCPs["131"]["131-A"], {Name = "Eye Pod - A", IsEnabled = "SCPs"})
	end
	if game:GetService("Workspace").SCPs["131"]["131-B"] then
		ESP:Add(game:GetService("Workspace").SCPs["131"]["131-B"], {Name = "Eye Pod - B", IsEnabled = "SCPs"})
	end
end
local OpenedSCPs = false
ESP.Players = false
ESP.Tracers = false
ESP.Boxes = false
ESP.SCPs = true



-- =============================================================--
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("[SCP] Site-76: Prison Anomalies","Sentinel")
-- =============================================================--
-- // UI
local Tab = Window:NewTab("Config")
local Config = Tab:NewSection("Config")
local Misc = Tab:NewSection("Misc")

Config:NewKeybind("KeybindButton", "KeybindButton", Enum.KeyCode.RightControl, function()
	Library:ToggleUI()
end)

Config:NewSlider("Tween Speed","Tween Speed ", 350, 10,  function(val)
	_speed = val
end)

Config:NewToggle("Kick on Mod Join", "Kick on Mod Join", function(state)
	toggles.modDetector = state
end)

Config:NewButton("Rejoin Button", "Rejoin", function()
	if #Players:GetPlayers() <= 1 then
		Players.LocalPlayer:Kick("\nRejoining...")
		wait()
		game:GetService('TeleportService'):Teleport(game.PlaceId, Players.LocalPlayer)
	else
		game:GetService('TeleportService'):TeleportToPlaceInstance(game.PlaceId, game.JobId, Players.LocalPlayer)
	end
end)

Misc:NewButton("Disable Jump Stamina", "Disable Jump Stamina drain", function()
	local OldNameCall
    OldNameCall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
    local method = getnamecallmethod()
    local args = {...}
    if not checkcaller() and self.name == "_" and method == "Fire" and args[1] == "SubtractStamina" then
        return nil
    end
    return OldNameCall(self, ...)
end))
end)


Misc:NewButton("Remove Textures", "Remove Texture", function()
	local ws = game:GetService("Workspace")

	for i,v in pairs(ws:GetDescendants()) do
	   if v:IsA("Texture") then
		   v:Destroy()
	   end
	end
end)

Misc:NewButton("Destroy Teslas","Destroy Teslas Gates", function()
	destroyteslagates()
end)

Misc:NewButton("Simple Remove Lag","Simple Remove Lag", function()
	local plrs = workspace:GetChildren() 

	for i = 1, #plrs do 
		if plrs[i].className == "Part" then
			if plrs[i].Anchored == true then
				plrs[i]:BreakJoints()
			end
		elseif plrs[i].className == "Model" then
			local plrs2 = plrs[i]:GetChildren()
			for i = 1, #plrs2 do
				if plrs2[i].className == "Part" then
					if plrs2[i].Anchored == true then
						plrs2[i]:BreakJoints()
					end
				end
			end
		end
	end
end)

Misc:NewButton("Simple Remove Lag V2","Simple Remove Lag", function()
	for i,v in pairs(workspace:GetDescendants()) do
		if v.ClassName == "Part" or v.ClassName == "WedgePart" then
			v.Material = "SmoothPlastic"
		end
	end
end)
-- =============================================================--

local Tab = Window:NewTab("Misc")
local v = Tab:NewSection("Options")

v:NewButton("Infinite Yield", "Infinite Yield", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)

v:NewButton("Remote Spy", "Remote Spy", function()
	loadstring(game:HttpGet("https://github.com/exxtremestuffs/SimpleSpySource/raw/master/SimpleSpy.lua"))()
end)

v:NewButton("Remove NickName","Remove name",function()
	game.Players.LocalPlayer.Character:FindFirstChild("Head"):FindFirstChildOfClass("BillboardGui"):Destroy()
end)

v:NewButton("Respawn","Respawn Basic", function()
	game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
end)

v:NewToggle("Auto Remove Name","Auto Remove Nick", function(s)
	toggles.rName = s
end)

v:NewToggle("Instant Respawn","Instant Respawn", function(s)
	toggles.instantRespawn = s
	if toggles.instantRespawn then
		game.Players.LocalPlayer.Character:WaitForChild("Humanoid").Died:Connect(function()
			game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
		end)
	end
end)
-- =============================================================--

local Tab = Window:NewTab("Farm")
local Farm = Tab:NewSection("Farm")

local infCash = false
local ran = false

Farm:NewButton("Become Chaos Insurgency", "Escape Button", function()
	becomeCI()
end)

Farm:NewToggle("Become C.I AutoFarm", "Escape AutoFarm", function(s)
	toggles.farmEscape = s
	spawn(function()
		while toggles.farmEscape and wait() do
			if game:GetService("Players").LocalPlayer.Team.Name == "Prisoner" then
				if toggles.mask then
					if game:GetService("Workspace").ContainmentRegions["035C"]["035"].Interact.Transparency == 0 then
						tp(701, -169, 22)
						wait(1)
						local args = {[1] = workspace.ContainmentRegions:FindFirstChild("035C"):FindFirstChild("035")}
						game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
						wait(1)
					else
						game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Notice", Text = "Não foi possível pegar a máscara, pulando a etapa."})
					end
				end
				becomeCI()
				wait(5)
			else
				local args = {
					[1] = "Prisoner",
					[2] = false
				}
				repeat
					game:GetService("ReplicatedStorage").Remotes.ChangeTeam:InvokeServer(unpack(args))
					wait(1)
				until game:GetService("Players").LocalPlayer.Team.Name == "Prisoner"
				game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
				wait(2)
			end
		end
	end)
end)

Farm:NewToggle("Toggle Mask AutoFarm", "Escape Button", function(s)
	toggles.mask = s
end)

Farm:NewToggle("Infinite Money/EXP", "Infinite Money and EXP", function(s)
	infCash = s 
	if infCash then
		if not ran then
			local part = Instance.new("Part", game.Workspace)
			part.Position = Vector3.new(679.05279541016, -186.08403015137, -524.87188720703)
			part.CanCollide = true
			part.Anchored = true
			part.Size = Vector3.new(10,1,10)
			ran = true
		end
		noClip = game:GetService('RunService').Stepped:Connect(NoclipLoop)
		tp(679, -183, -526)
		while infCash and wait(1) do
			local args = {
				[1] = workspace.ContainmentRegions:FindFirstChild("096"),
				[2] = "Release"
			}
			game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		end
	else
		noClip:Disconnect()
		game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
	end
end)

Farm:NewButton("Join Smallest Server","Join Small Server", function()
	getgenv().AutoTeleport = true
	getgenv().DontTeleportTheSameNumber = true --If you set this true it won't teleport to the server if it has the same number of players as your current server

	local maxplayers = math.huge
	local serversmaxplayer;
	local goodserver;
	local gamelink = "https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100"

	function serversearch()
		for _, v in pairs(game:GetService("HttpService"):JSONDecode(game:HttpGetAsync(gamelink)).data) do
			if type(v) == "table" and maxplayers > v.playing then
				serversmaxplayer = v.maxPlayers
				maxplayers = v.playing
				goodserver = v.id
			end
		end
	end

	function getservers()
		serversearch()
		for i,v in pairs(game:GetService("HttpService"):JSONDecode(game:HttpGetAsync(gamelink))) do
			if i == "nextPageCursor" then
				if gamelink:find("&cursor=") then
					local a = gamelink:find("&cursor=")
					local b = gamelink:sub(a)
					gamelink = gamelink:gsub(b, "")
				end
				gamelink = gamelink .. "&cursor=" ..v
				getservers()
			end
		end
	end

	getservers()
	print("All of the servers are searched") 
	print("Server : " .. goodserver .. " Players : " .. maxplayers .. "/" .. serversmaxplayer)
	if AutoTeleport then
		if DontTeleportTheSameNumber then 
			if #game:GetService("Players"):GetPlayers() - 1 == maxplayers then
				return warn("The server you're currently in is the smallest one.")
			elseif goodserver == game.JobId then
				return warn("The server you're currently in is the smallest one.") 
			end
		end
		game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, goodserver)
	end
end)

-- =============================================================--

local Tab = Window:NewTab("Teleport")
local tpl1 = Tab:NewSection("Geral")
local tp1 = Tab:NewSection("Local De Roubo")
local tp2 = Tab:NewSection("Teleportes") 

tpl1:NewButton("SCP-008 Self-Infect","SCP-008 Self-Infect",function()
	local plrprevpos = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
	tp(Vector3.new(777, 21, -179))
	wait(1)
	local args = {
		[1] = workspace.SCPs:FindFirstChild("008"):FindFirstChild("008Activate")
		}
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	tp(Vector3.new(779, 20, -134))
	wait(4)
	tp(plrprevpos)
end)

tpl1:NewButton("C.I Shop", "C.I Shop", function()
	tp(Vector3.new(687, 2, 465))
end)

tpl1:NewButton("Chaos Insurgency Shop", "C.I Shop", function()
	tp(Vector3.new(14, 102, 1149))
end)

tp1:NewDropdown("Roubo", "Rob Farm", {"Living Room", "Red lake", "Telekill", "Tetrahedron", "Pathogen"}, function(Selected)
	if Selected == "Living Room" then
		tp(CFrame.new(936, -170, -333))
	elseif Selected == "Red Lake" then
		tp(CFrame.new(406, -170, 155))
	elseif Selected == "Tetrahedron" then
		tp(CFrame.new(291.09, 17.203, 329.67))
	elseif Selected == "Telekill" then
		tp(CFrame.new(403.92, 17.911, -421.251))
	elseif Selected == "Pathogen" then
		tp(CFrame.new(846, 20, -154))
	end
end)

tp1:NewDropdown("Local de Venda", "Local de venda", {"Agent TP","Venda 1", "Venda 2", "Venda 3", "Venda 4"}, function(Selected)
	if Selected == "Agent TP" then
		nextAgent()
	elseif Selected == "Venda 1" then
		tp(CFrame.new(316.202, -171.377, -366.875))
	elseif Selected == "Venda 2" then
		tp(CFrame.new(602.501, -170.85, -33.839))
	elseif Selected == "Venda 3" then
		tp(CFrame.new(789.889, -0.058, 270.837))
	elseif Selected == "Venda 4" then
		tp(CFrame.new(322, 19, 656))
	end
end)

tp1:NewButton("Agent TP", "Agent Teleport", function()
	local dist = math.huge
	local target
	for _,v in pairs(game:GetService("Workspace").Contracts:GetChildren()) do
		if v.Name == "Agent" then
			local check = (v:FindFirstChild("Head").Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
			if check < dist then
				target = v.Head.Position
				dist = check
			end
		end
	end
end)
tpl1:NewButton("Omega Warhead Activation", "Omega Warhead Activation", function()
	tp(CFrame(564, -175, 13))
end)

tp2:NewDropdown("Light Containment Zone","Light Containment Zone", {"SCP-914", "SCP-008", "SCP-173", "Doorman", "Wendigo", "Fish Man", "Skeleton Key", "Bell", "Explosive Bat"}, function(Selected)
	if Selected == "SCP-914" then
		tp(CFrame.new(709, 19, 7))
	elseif Selected == "SCP-008" then
		tp(CFrame.new(780, 21, -177))
	elseif Selected == "Doorman" then
		tp(CFrame.new(654, 19, -182))
	elseif Selected == "SCP-173" then
		tp(CFrame.new(660, 19, -311))
	elseif Selected == "Wendigo" then
		tp(CFrame.new(343, 19, -274))
	elseif Selected == "Fish Man" then
		tp(CFrame.new(417, 19, -35))
	elseif Selected == "Explosive Bat" then
		tp(CFrame.new(434, 19, -107))
	elseif Selected == "Bell" then
		tp(CFrame.new(676, 19, -72))
	end
end)
 
tp2:NewDropdown("Teleportes","Teleportes", {"La em cima","Gate B","Bunker A","Bunker B","Big Elevator","Personal Elevator","Medical","Clockwork Machine"}, function(Selected)
	if Selected == "Gate Topo" then
		tp(CFrame.new(290, 209, 1463))
	elseif Selected == "Gate B" then
		tp(CFrame.new(318, 8, 186))
	elseif Selected == "Bunker A" then
		tp(CFrame.new(448, 19, 298))
	elseif Selected == "Bunker B" then
		tp(CFrame.new(339, 19, 582))
	elseif Selected == "Big Elevator" then
		tp(CFrame.new(592, 19, -72)) 
	elseif Selected == "Personal Elevator" then
		tp(CFrame.new(387, 19, 33)) 
	elseif Selected == "Medical" then
		tp(CFrame.new(780, 19, 284)) 
	elseif Selected == "Clockwork Machine" then
		tp(CFrame.new(699, 19, 8)) 
	end
end)

tp2:NewDropdown("Sala das Luzes","Sala das Luzes", {"Light 1","Light 2","Light 3"}, function(Selected)
	if Selected == "Light 1" then
		tp(CFrame.new(502, 19, 635))
	elseif Selected == "Light 2" then
		tp(CFrame.new(469, 19, -180))
	elseif Selected == "Light 3" then
		tp(CFrame.new(433, -12, 267))
	end
end)

-- =============================================================--

local Tab = Window:NewTab("SCPS")
local v3 = Tab:NewSection("Outros")
local v = Tab:NewSection("Area das Anomalias")
local v2 = Tab:NewSection("Area das Anomalias (Soltar)")

v3:NewButton("Omega Warhead Ativar", "Omega Warhead Activation", function()
	game.StarterGui:SetCore("SendNotification", {
		Title = "Misc"; -- the title (ofc)
		Text = "Omega WarHead Activation Active"; -- what the text says (ofc)
		Icon = "rbxassetid://57254792"; -- the image if u want. 
		Duration = 2; -- how long the notification should in secounds
	})
	tp(Vector3.new(564, -175, 31))
	wait(1)
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(workspace.Arm)
end)

v3:NewButton("Breach all Anomalies", "Breach All Anomalies", function()
	if game:GetService("Workspace").ContainmentRegions["173"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(665, 33, -260))
		local args = {
			[1] = workspace.PeanutDoor.ReleaseSCP
		}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
		wait(1)
		local args = {
			[1] = workspace.PeanutDoor,
			[2] = "Release"
		}
		game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		wait(1)
	end
	if game:GetService("Workspace").ContainmentRegions["049"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(480, -169, -263))
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("049").Door.ReleaseSCP
		}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
		wait(1)
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("049").Door,
			[2] = "Release"
		}
		game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		wait(1)
	end
	if game:GetService("Workspace").ContainmentRegions["457"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(416, -178, -478))
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("457").Door.ReleaseSCP
		}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
		wait(1)
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("457").Door,
			[2] = "Release"
		}
		game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		wait(1)
	end
	if game:GetService("Workspace").ContainmentRegions["017"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(231, -169, -139))
		wait(1)
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(workspace.ContainmentRegions:FindFirstChild("017C").ReleaseSCP)
		wait(1)
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(workspace.ContainmentRegions:FindFirstChild("017C").ReleaseSCP)
		wait(1)
	end
	if game:GetService("Workspace").ContainmentRegions["106"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(922, -169, 158))
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("106").ReleaseSCP
		}
		
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
		wait(1)
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("106"),
			[2] = "Release"
		}
		game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		wait(1)
	end
	if game:GetService("Workspace").ContainmentRegions["096"].ContainmentNotice.Panel.SurfaceGui.TextLabel.Text == "SECURE" then
		tp(Vector3.new(681, -177, -525))
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("096").ReleaseSCP
		}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
		wait(1)
		local args = {
			[1] = workspace.ContainmentRegions:FindFirstChild("096"),
			[2] = "Release"
		}
		game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
		wait(1)
	end
	
	--527
	tp(Vector3.new(421, 19, -11))
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("527").Door.ReleaseSCP
	}
	
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	wait(1)
	
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("527").Door,
		[2] = "Release"
	}
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
	wait(1)
	--303
	tp(Vector3.new(665, 19, -192))
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("303").SwingDoor.ReleaseSCP
	}
	
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("303").SwingDoor,
		[2] = "Release"
	}
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
	wait(1)
end)

v:NewButton("Shy Guy", "Shy Guy SCP", function()
    local CFrameEnd = CFrame.new(686, -177, -525) -- Place your coords in here
	tp(Vector3.new(686, -177, -525))
end)

v:NewButton("The Old Man", "The Old Man SCP", function()
	tp(Vector3.new(921, -170, 175))
end)

v:NewButton("Plague Doctor", "Plague Doctor SCP", function()
	tp(Vector3.new(483, -169, -265))
end)

v:NewButton("Burning Man", "Burning Man SCP", function()
	tp(Vector3.new(408, -179, -467))
end)

v:NewButton("The Shadow Child", "The Shadow Child SCP", function()
	tp(Vector3.new(238, -169, -134))
end)

v:NewButton("The Mask", "The Mask SCP", function()
	tp(Vector3.new(753, -170, 7))
end)

v2:NewButton("Shy Guy, Breach", "Shy Guy SCP", function()
    local CFrameEnd = CFrame.new(921, -170, 160) -- Place your coords in here
	tp(Vector3.new(921, -170, 160))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("096"),
		[2] = "Release"
	}
	
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
end)

v2:NewButton("The Old Man, Breach", "The Old Man SCP", function()
	tp(Vector3.new(921, -170, 160))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("106"),
		[2] = "Release"
	}
	
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
end)

v2:NewButton("Plague Doctor, Breach", "Plague Doctor SCP", function()
	tp(Vector3.new(484, -169, -266))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("049").Door,
		[2] = "Release"
	}
	
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
end)

v2:NewButton("Burning Man, Breach", "Burning Man SCP", function()
	tp(Vector3.new(414, -178, -476))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("457").Door,
		[2] = "Release"
	}
	
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
end)

v2:NewButton("The Shadow Child, Breach", "The Shadow Child SCP", function()
	tp(Vector3.new(232, -169, -138))
	wait(1)
	local args = {
		[1] = workspace.ContainmentRegions:FindFirstChild("017C"),
		[2] = "Release"
	}
	game:GetService("ReplicatedStorage").Remotes.ReleaseSCP:FireServer(unpack(args))
end)

v2:NewButton("The Mask, Breach", "The Mask SCP", function()
	if game:GetService("Workspace").ContainmentRegions["035C"]["035"].Interact.Transparency == 0 then
		tp(701, -169, 22)
		wait(1)
		local args = {[1] = workspace.ContainmentRegions:FindFirstChild("035C"):FindFirstChild("035")}
		game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	end
end)
-- =============================================================--

    --//Event Connections 
    game.Players.LocalPlayer.CharacterAdded:Connect(function(char)
        game.Players.LocalPlayer.Character:WaitForChild("Humanoid").Died:Connect(function()
            if toggles.instantRespawn then
                game:GetService("ReplicatedStorage").Remotes.RespawnPlayer:FireServer()
            end
        end)
        if toggles.rName then
            wait(.5)
            game.Players.LocalPlayer.Character:WaitForChild("Head"):FindFirstChildOfClass("BillboardGui"):Destroy()
        end
    end)

    spawn(function()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player:GetRankInGroup(3363833) >= 20 then
                game:GetService("StarterGui"):SetCore("SendNotification", {Title = "["..player:GetRoleInGroup(3363833).."] "..player.Name, Text = 'Moderator joined the game.'})
            end
        end
    end)

local Tab = Window:NewTab("ESP")
local v3 = Tab:NewSection("Esp")

v3:NewToggle("Enabled","Enabled", function(S)
	ESP:Toggle(S)
end)

v3:NewToggle("SCPs","Scps", function(S)
	ESP.SCPs = S
	if OpenedSCPs == false then
		refreshSCPs()
		spawn(function()
			while true and wait(60) do
				refreshSCPs()
			end
		end)
		OpenedSCPs = true
	end
end)

v3:NewToggle("Players","Players Esp", function(S)
	ESP.Players = S
end)

v3:NewToggle("Tracers","Tracers", function(S)
	ESP.Tracers = S
end)

v3:NewToggle("Boxes","Boxes", function(S)
	ESP.Boxes = S
end)

local Tab = Window:NewTab("Em Breve")
local v = Tab:NewSection("Em Breve")

v:NewButton("LoveCraftiano", "LoveCraftiano", function()
	tp(Vector3.new(857, 19, 234))
	wait(1)
	local args = {[1] = workspace.SCPs:FindFirstChild("500")}
	game:GetService("ReplicatedStorage").Remotes.Interact:FireServer(unpack(args))
	wait(1)
	tp(Vector3.new(718, 19, -13))
	wait(1)
	local args = {[1] = "Very Fine",[2] = "Panacea"}
	game:GetService("ReplicatedStorage").Remotes:FindFirstChild("914Lever"):FireServer(unpack(args))
end)
